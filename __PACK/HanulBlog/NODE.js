OVERRIDE(HanulBlog.ArticleModel,function(o){"use strict";HanulBlog.ArticleModel=OBJECT({preset:function(){return o},init:function(o,t){o.on("create",{before:function(o,t){return GET({host:"tagengine.hanul.co",uri:"__TAG_INPUT",paramStr:"tag="+encodeURIComponent(o.category)},function(n){o.category=n,HanulBlog.CategoryModel.update({id:n,$inc:{articleCount:1}},{notExists:function(){HanulBlog.CategoryModel.create({id:n},t)},success:t})}),!1}}),o.on("update",{before:function(o,n){return t.get(o.id,function(t){t.category===o.category?n():GET({host:"tagengine.hanul.co",uri:"__TAG_INPUT",paramStr:"tag="+encodeURIComponent(o.category)},function(e){o.category=e,t.category===o.category?n():NEXT([function(o){HanulBlog.CategoryModel.update({id:e,$inc:{articleCount:1}},{notExists:function(){HanulBlog.CategoryModel.create({id:e},o)},success:o})},function(){return function(){HanulBlog.CategoryModel.update({id:t.category,$inc:{articleCount:-1}},function(o){0===o.articleCount?HanulBlog.CategoryModel.remove(o.id,n):n()})}}])})}),!1}}),o.on("remove",{after:function(o){HanulBlog.CategoryModel.update({id:o.category,$inc:{articleCount:-1}},function(o){0===o.articleCount&&HanulBlog.CategoryModel.remove(o.id)})}})}})}),HanulBlog.AuthRoom=OBJECT({init:function(){"use strict";HanulBlog.ROOM("authRoom",function(o,t){t("auth",function(t,n){t===NODE_CONFIG.HanulBlog.password&&(o.roles=["ADMIN"]),n(t===NODE_CONFIG.HanulBlog.password)})})}});